[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url apiUrl","result":{"duration":242619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"07:43:07.679 karate.env system property was: null \n","line":4}},{"name":"def timeValidator = read('classpath:helpers\/time-validator.js')","result":{"duration":19141253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def globalArticleReqBody = read('classpath:conduitApp\/json\/homeArticleRequest.json')","result":{"duration":50713812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def dataGenerator = Java.type('helpers.DataGenerator')","result":{"duration":14581579,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomComment = dataGenerator.getRandomArticleValues().body","result":{"duration":735167781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8}]},{"line":10,"name":"Favorite articles","description":"","id":"favorite-articles","type":"scenario","keyword":"Scenario","steps":[{"name":"params {limit:10, offset:0}","result":{"duration":413181,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 1: Get atricles of the global feed"],"keyword":"Given","line":12},{"name":"path 'articles'","result":{"duration":872958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":13},{"name":"request globalArticleReqBody","result":{"duration":245725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"method GET","result":{"duration":1278965750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":15},{"name":"status 200","result":{"duration":31934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":16},{"name":"def getFavoritesCount = response.articles[0].favoritesCount","result":{"duration":3295834,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 2: Get the favorites count and slug ID for the first article, save it to variables"],"keyword":"*","line":18},{"name":"def getSlugID = response.articles[0].slug","result":{"duration":1871360,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19},{"name":"path 'articles', getSlugID, 'favorite'","result":{"duration":60233180,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 3: Make POST request to increase favorites count for the first article"],"keyword":"Given","line":21},{"name":"method POST","result":{"duration":645157331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":22},{"name":"status 200","result":{"duration":217534,"error_message":"status code was: 401, expected: 200, response time in milliseconds: 640, url: https:\/\/api.realworld.io\/api\/articles\/Create-a-new-implementation-1\/favorite, response: \n{\"status\":\"error\",\"message\":\"missing authorization credentials\"}\nclasspath:conduitApp\/feature\/HomeWork.feature:23","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":23,"doc_string":{"content_type":"","value":"07:43:10.501 classpath:conduitApp\/feature\/HomeWork.feature:23\nThen status 200\nstatus code was: 401, expected: 200, response time in milliseconds: 640, url: https:\/\/api.realworld.io\/api\/articles\/Create-a-new-implementation-1\/favorite, response: \n{\"status\":\"error\",\"message\":\"missing authorization credentials\"}\nclasspath:conduitApp\/feature\/HomeWork.feature:23\n","line":23}},{"name":"def responseTitle = response.article.title","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":24},{"name":"def responseGlobalFeed = globalArticleReqBody.article.title","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":25},{"name":"match responseTitle == responseGlobalFeed","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Step 4: Verify response schema (jadi kita buat filejsonnya dulu n verify"],"keyword":"And","line":27},{"name":"def initialCount = 0","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Step 5: Verify that favorites article incremented by 1","#Example"],"keyword":"*","line":30},{"name":"def response = {\"favoritesCount\": 1}","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":31},{"name":"match response.favoritesCount == initialCount + 1","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":32},{"name":"params {favorited:admoons, limit:10, offset:0}","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Step 6: Get all favorite articles"],"keyword":"Given","line":35},{"name":"path 'articles'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"method GET","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":37},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":38},{"name":"match responseTitle == responseGlobalFeed","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Step 7: Verify response schema"],"keyword":"And","line":40},{"name":"match response.articles[0].slug == getSlugID","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Step 8: Verify that slug ID from Step 2 exist in one of the favorite articles"],"keyword":"And","line":42}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url apiUrl","result":{"duration":263834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"07:43:10.517 karate.env system property was: null \n","line":4}},{"name":"def timeValidator = read('classpath:helpers\/time-validator.js')","result":{"duration":8948665,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def globalArticleReqBody = read('classpath:conduitApp\/json\/homeArticleRequest.json')","result":{"duration":5816508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def dataGenerator = Java.type('helpers.DataGenerator')","result":{"duration":780052,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomComment = dataGenerator.getRandomArticleValues().body","result":{"duration":78416459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8}]},{"line":44,"name":"Comment articles","description":"","id":"comment-articles","type":"scenario","keyword":"Scenario","steps":[{"name":"path 'articles'","result":{"duration":165759,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 1: Get articles of the global feed"],"keyword":"Given","line":46},{"name":"request globalArticleReqBody","result":{"duration":162951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"method GET","result":{"duration":744571676,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":48},{"name":"status 200","result":{"duration":27887,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":49},{"name":"def getSlugsID = response.articles[0].slug","result":{"duration":902238,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 2: Get the slug ID for the first article, save it to variable"],"keyword":"*","line":51},{"name":"path 'articles', getSlugsID, 'comments'","result":{"duration":1236911,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 3: Make a GET call to 'comments' end-point to get all comments"],"keyword":"Given","line":53},{"name":"method GET","result":{"duration":631456957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":54},{"name":"status 200","result":{"duration":18219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":55},{"result":{"duration":2068387,"error_message":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'If someone else has started working on an implementation, consider jumping in and helping them! by contacting the author.'\n  'apa aja boleh'\n\nclasspath:conduitApp\/feature\/HomeWork.feature:57","status":"failed"},"comments":["# Step 4: Verify response schema"],"line":57,"name":"match response.comments[0].body == \"apa aja boleh\"","match":{"location":"karate","arguments":[]},"keyword":"And","doc_string":{"content_type":"","value":"07:43:11.999 classpath:conduitApp\/feature\/HomeWork.feature:57\nAnd match response.comments[0].body == \"apa aja boleh\"\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'If someone else has started working on an implementation, consider jumping in and helping them! by contacting the author.'\n  'apa aja boleh'\n\nclasspath:conduitApp\/feature\/HomeWork.feature:57\n","line":57}},{"name":"def commentsCount = response.comments.length","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Step 5: Get the count of the comments array length and save to variable"],"keyword":"*","line":59},{"name":"path 'articles', getSlugsID, 'comments'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Step 6: Make a POST request to publish a new comment"],"keyword":"Given","line":62},{"name":"request { comment : { body : \"#(randomComment)\" } }","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":63},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":64},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":65},{"result":{"duration":0,"status":"skipped"},"comments":["# Step 7: Verify response schema that should contain posted comment text"],"line":67,"name":"match response ==","match":{"location":"karate","arguments":[]},"keyword":"And","doc_string":{"content_type":"","value":"{\n    \"comment\": {\n        \"id\": '#number',\n        \"createdAt\": \"#? timeValidator(_)\",\n        \"updatedAt\": \"#? timeValidator(_)\",\n        \"body\": \"#string\",\n        \"author\": {\n            \"username\": \"#string\",\n            \"bio\": \"##string\",\n            \"image\": \"#string\",\n            \"following\": '#boolean'\n        }\n    }\n}","line":67}},{"name":"def getCommentID = response.comment.id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":84},{"name":"path 'articles', getSlugsID, 'comments'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Step 8: Get the list of all comments for this article one more time"],"keyword":"Given","line":86},{"name":"method GET","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":87},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":88},{"name":"def commentIncreased = response.comments.length","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Step 9: Verify number of comments increased by 1 (similar like we did with favorite counts)"],"keyword":"*","line":90},{"name":"match commentIncreased == commentsCount + 1","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":91},{"name":"print 'jumlah comment terbaru: ' + commentIncreased","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":92},{"name":"path 'articles', getSlugsID, 'comments', getCommentID","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Step 10: Make a DELETE request to delete comment"],"keyword":"Given","line":95},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":96},{"name":"status 204","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":97},{"name":"path 'articles', getSlugsID, 'comments'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Step 11: Get all comments again and verify number of comments decreased by 1"],"keyword":"Given","line":99},{"name":"method GET","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":100},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":101},{"name":"def commentDecreased = response.comments.length","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":102},{"name":"match commentDecreased == commentsCount","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":103},{"name":"print 'jumlah comment sekarang: ' + commentDecreased","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":104}],"tags":[]}],"name":"conduitApp\/feature\/HomeWork.feature","description":"Home Work","id":"home-work","keyword":"Feature","uri":"conduitApp\/feature\/HomeWork.feature"}]