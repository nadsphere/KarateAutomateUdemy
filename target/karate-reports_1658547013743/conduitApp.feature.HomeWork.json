[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url apiUrl","result":{"duration":350900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"08:38:28.430 karate.env system property was: null \n","line":4}},{"name":"def timeValidator = read('classpath:helpers\/time-validator.js')","result":{"duration":5031000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def globalArticleReqBody = read('classpath:conduitApp\/json\/homeArticleRequest.json')","result":{"duration":4982200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def dataGenerator = Java.type('helpers.DataGenerator')","result":{"duration":5987000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomComment = dataGenerator.getRandomArticleValues().body","result":{"duration":242773000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8}]},{"start_timestamp":"2022-07-23T01:38:28.426Z","line":10,"name":"Favorite articles","description":"","id":"favorite-articles","type":"scenario","keyword":"Scenario","steps":[{"name":"params {limit:10, offset:0}","result":{"duration":322400,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 1: Get atricles of the global feed"],"keyword":"Given","line":12},{"name":"path 'articles'","result":{"duration":606800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":13},{"name":"request globalArticleReqBody","result":{"duration":200100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"method GET","result":{"duration":916191300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":15},{"name":"status 200","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":16},{"name":"def getFavoritesCount = response.articles[0].favoritesCount","result":{"duration":1624900,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 2: Get the favorites count and slug ID for the first article, save it to variables"],"keyword":"*","line":18},{"name":"def getSlugID = response.articles[0].slug","result":{"duration":817800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19},{"name":"path 'articles', getSlugID, 'favorite'","result":{"duration":3630900,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 3: Make POST request to increase favorites count for the first article"],"keyword":"Given","line":21},{"name":"method POST","result":{"duration":837222900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":22},{"name":"status 200","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":23},{"name":"def responseTitle = response.article.title","result":{"duration":1084500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":24},{"name":"def responseGlobalFeed = globalArticleReqBody.article.title","result":{"duration":920300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":25},{"name":"match responseTitle == responseGlobalFeed","result":{"duration":381000,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 4: Verify response schema (jadi kita buat filejsonnya dulu n verify"],"keyword":"And","line":27},{"name":"def initialCount = 0","result":{"duration":616900,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 5: Verify that favorites article incremented by 1","#Example"],"keyword":"*","line":30},{"name":"def response = {\"favoritesCount\": 1}","result":{"duration":250000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":31},{"name":"match response.favoritesCount == initialCount + 1","result":{"duration":887000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":32},{"name":"params {favorited:admoons, limit:10, offset:0}","result":{"duration":210300,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 6: Get all favorite articles"],"keyword":"Given","line":35},{"name":"path 'articles'","result":{"duration":315700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"method GET","result":{"duration":704265400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":37},{"name":"status 200","result":{"duration":11100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":38},{"name":"match responseTitle == responseGlobalFeed","result":{"duration":190500,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 7: Verify response schema"],"keyword":"And","line":40},{"name":"match response.articles[0].slug == getSlugID","result":{"duration":209300,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 8: Verify that slug ID from Step 2 exist in one of the favorite articles"],"keyword":"And","line":42}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url apiUrl","result":{"duration":62700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"08:38:31.173 karate.env system property was: null \n","line":4}},{"name":"def timeValidator = read('classpath:helpers\/time-validator.js')","result":{"duration":2572300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def globalArticleReqBody = read('classpath:conduitApp\/json\/homeArticleRequest.json')","result":{"duration":1742800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def dataGenerator = Java.type('helpers.DataGenerator')","result":{"duration":931900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomComment = dataGenerator.getRandomArticleValues().body","result":{"duration":25932700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8}]},{"start_timestamp":"2022-07-23T01:38:31.171Z","line":44,"name":"Comment articles","description":"","id":"comment-articles","type":"scenario","keyword":"Scenario","steps":[{"name":"path 'articles'","result":{"duration":67400,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 1: Get articles of the global feed"],"keyword":"Given","line":46},{"name":"request globalArticleReqBody","result":{"duration":54600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"method GET","result":{"duration":848018500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":48},{"name":"status 200","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":49},{"name":"def getSlugsID = response.articles[0].slug","result":{"duration":1242300,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 2: Get the slug ID for the first article, save it to variable"],"keyword":"*","line":51},{"name":"path 'articles', getSlugsID, 'comments'","result":{"duration":804800,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 3: Make a GET call to 'comments' end-point to get all comments"],"keyword":"Given","line":53},{"name":"method GET","result":{"duration":587067700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":54},{"name":"status 200","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":55},{"name":"match response.comments[0].body == \"apa aja boleh\"","result":{"duration":1109600,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 4: Verify response schema"],"keyword":"And","line":57},{"name":"def commentsCount = response.comments.length","result":{"duration":776800,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 5: Get the count of the comments array length and save to variable"],"keyword":"*","line":59},{"name":"path 'articles', getSlugsID, 'comments'","result":{"duration":243100,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 6: Make a POST request to publish a new comment"],"keyword":"Given","line":62},{"name":"request { comment : { body : \"#(randomComment)\" } }","result":{"duration":455700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":63},{"name":"method POST","result":{"duration":570759500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":64},{"name":"status 200","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":65},{"result":{"duration":4089500,"status":"passed"},"comments":["# Step 7: Verify response schema that should contain posted comment text"],"line":67,"name":"match response ==","match":{"location":"karate","arguments":[]},"keyword":"And","doc_string":{"content_type":"","value":"{\n    \"comment\": {\n        \"id\": '#number',\n        \"createdAt\": \"#? timeValidator(_)\",\n        \"updatedAt\": \"#? timeValidator(_)\",\n        \"body\": \"#string\",\n        \"author\": {\n            \"username\": \"#string\",\n            \"bio\": \"##string\",\n            \"image\": \"#string\",\n            \"following\": '#boolean'\n        }\n    }\n}","line":67}},{"name":"def getCommentID = response.comment.id","result":{"duration":1107400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":84},{"name":"path 'articles', getSlugsID, 'comments'","result":{"duration":458700,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 8: Get the list of all comments for this article one more time"],"keyword":"Given","line":86},{"name":"method GET","result":{"duration":635866300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":87},{"name":"status 200","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":88},{"name":"def commentIncreased = response.comments.length","result":{"duration":337100,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 9: Verify number of comments increased by 1 (similar like we did with favorite counts)"],"keyword":"*","line":90},{"name":"match commentIncreased == commentsCount + 1","result":{"duration":599200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":91},{"name":"print 'jumlah comment terbaru: ' + commentIncreased","result":{"duration":845000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":92,"doc_string":{"content_type":"","value":"08:38:33.862 [print] jumlah comment terbaru: 2 \n","line":92}},{"name":"path 'articles', getSlugsID, 'comments', getCommentID","result":{"duration":764800,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 10: Make a DELETE request to delete comment"],"keyword":"Given","line":95},{"name":"method DELETE","result":{"duration":735757000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":96},{"name":"status 204","result":{"duration":108400,"error_message":"status code was: 200, expected: 204, response time in milliseconds: 734, url: https:\/\/api.realworld.io\/api\/articles\/This-is-title-21074\/comments\/16982, response: \n{}\nclasspath:conduitApp\/feature\/HomeWork.feature:97","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":97,"doc_string":{"content_type":"","value":"08:38:34.599 classpath:conduitApp\/feature\/HomeWork.feature:97\nThen status 204\nstatus code was: 200, expected: 204, response time in milliseconds: 734, url: https:\/\/api.realworld.io\/api\/articles\/This-is-title-21074\/comments\/16982, response: \n{}\nclasspath:conduitApp\/feature\/HomeWork.feature:97\n","line":97}},{"name":"path 'articles', getSlugsID, 'comments'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Step 11: Get all comments again and verify number of comments decreased by 1"],"keyword":"Given","line":99},{"name":"method GET","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":100},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":101},{"name":"def commentDecreased = response.comments.length","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":102},{"name":"match commentDecreased == commentsCount","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":103},{"name":"print 'jumlah comment sekarang: ' + commentDecreased","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":104}],"tags":[]}],"name":"conduitApp\/feature\/HomeWork.feature","description":"Home Work","id":"home-work","keyword":"Feature","uri":"conduitApp\/feature\/HomeWork.feature"}]