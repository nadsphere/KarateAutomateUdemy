{"failedCount":1,"prefixedPath":"classpath:conduitApp\/feature\/HomeWork.feature","packageQualifiedName":"conduitApp.feature.HomeWork","loopIndex":-1,"relativePath":"conduitApp\/feature\/HomeWork.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":350900,"millis":0.3509,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url apiUrl"},"stepLog":"08:38:28.430 karate.env system property was: null \n"},{"result":{"nanos":5031000,"millis":5.031,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def timeValidator = read('classpath:helpers\/time-validator.js')"}},{"result":{"nanos":4982200,"millis":4.9822,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def globalArticleReqBody = read('classpath:conduitApp\/json\/homeArticleRequest.json')"}},{"result":{"nanos":5987000,"millis":5.987,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def dataGenerator = Java.type('helpers.DataGenerator')"}},{"result":{"nanos":242773000,"millis":242.773,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def randomComment = dataGenerator.getRandomArticleValues().body"}},{"result":{"nanos":322400,"millis":0.3224,"status":"passed"},"step":{"comments":["# Step 1: Get atricles of the global feed"],"line":12,"prefix":"Given","index":0,"text":"params {limit:10, offset:0}"}},{"result":{"nanos":606800,"millis":0.6068,"status":"passed"},"step":{"line":13,"prefix":"And","index":1,"text":"path 'articles'"}},{"result":{"nanos":200100,"millis":0.2001,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"request globalArticleReqBody"}},{"result":{"nanos":916191300,"millis":916.1913,"status":"passed"},"step":{"line":15,"prefix":"When","index":3,"text":"method GET"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":16,"prefix":"Then","index":4,"text":"status 200"}},{"result":{"nanos":1624900,"millis":1.6249,"status":"passed"},"step":{"comments":["# Step 2: Get the favorites count and slug ID for the first article, save it to variables"],"line":18,"prefix":"*","index":5,"text":"def getFavoritesCount = response.articles[0].favoritesCount"}},{"result":{"nanos":817800,"millis":0.8178,"status":"passed"},"step":{"line":19,"prefix":"*","index":6,"text":"def getSlugID = response.articles[0].slug"}},{"result":{"nanos":3630900,"millis":3.6309,"status":"passed"},"step":{"comments":["# Step 3: Make POST request to increase favorites count for the first article"],"line":21,"prefix":"Given","index":7,"text":"path 'articles', getSlugID, 'favorite'"}},{"result":{"nanos":837222900,"millis":837.2229,"status":"passed"},"step":{"line":22,"prefix":"When","index":8,"text":"method POST"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":23,"prefix":"Then","index":9,"text":"status 200"}},{"result":{"nanos":1084500,"millis":1.0845,"status":"passed"},"step":{"line":24,"prefix":"*","index":10,"text":"def responseTitle = response.article.title"}},{"result":{"nanos":920300,"millis":0.9203,"status":"passed"},"step":{"line":25,"prefix":"*","index":11,"text":"def responseGlobalFeed = globalArticleReqBody.article.title"}},{"result":{"nanos":381000,"millis":0.381,"status":"passed"},"step":{"comments":["# Step 4: Verify response schema (jadi kita buat filejsonnya dulu n verify"],"line":27,"prefix":"And","index":12,"text":"match responseTitle == responseGlobalFeed"}},{"result":{"nanos":616900,"millis":0.6169,"status":"passed"},"step":{"comments":["# Step 5: Verify that favorites article incremented by 1","#Example"],"line":30,"prefix":"*","index":13,"text":"def initialCount = 0"}},{"result":{"nanos":250000,"millis":0.25,"status":"passed"},"step":{"line":31,"prefix":"*","index":14,"text":"def response = {\"favoritesCount\": 1}"}},{"result":{"nanos":887000,"millis":0.887,"status":"passed"},"step":{"line":32,"prefix":"*","index":15,"text":"match response.favoritesCount == initialCount + 1"}},{"result":{"nanos":210300,"millis":0.2103,"status":"passed"},"step":{"comments":["# Step 6: Get all favorite articles"],"line":35,"prefix":"Given","index":16,"text":"params {favorited:admoons, limit:10, offset:0}"}},{"result":{"nanos":315700,"millis":0.3157,"status":"passed"},"step":{"line":36,"prefix":"And","index":17,"text":"path 'articles'"}},{"result":{"nanos":704265400,"millis":704.2654,"status":"passed"},"step":{"line":37,"prefix":"When","index":18,"text":"method GET"}},{"result":{"nanos":11100,"millis":0.0111,"status":"passed"},"step":{"line":38,"prefix":"Then","index":19,"text":"status 200"}},{"result":{"nanos":190500,"millis":0.1905,"status":"passed"},"step":{"comments":["# Step 7: Verify response schema"],"line":40,"prefix":"And","index":20,"text":"match responseTitle == responseGlobalFeed"}},{"result":{"nanos":209300,"millis":0.2093,"status":"passed"},"step":{"comments":["# Step 8: Verify that slug ID from Step 2 exist in one of the favorite articles"],"line":42,"prefix":"And","index":21,"text":"match response.articles[0].slug == getSlugID"}}],"executorName":"main","line":10,"name":"Favorite articles","description":"","durationMillis":2729.1138,"startTime":1658540308426,"failed":false,"refId":"[1:10]","endTime":1658540311168,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url apiUrl"},"stepLog":"08:38:31.173 karate.env system property was: null \n"},{"result":{"nanos":2572300,"millis":2.5723,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def timeValidator = read('classpath:helpers\/time-validator.js')"}},{"result":{"nanos":1742800,"millis":1.7428,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def globalArticleReqBody = read('classpath:conduitApp\/json\/homeArticleRequest.json')"}},{"result":{"nanos":931900,"millis":0.9319,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def dataGenerator = Java.type('helpers.DataGenerator')"}},{"result":{"nanos":25932700,"millis":25.9327,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def randomComment = dataGenerator.getRandomArticleValues().body"}},{"result":{"nanos":67400,"millis":0.0674,"status":"passed"},"step":{"comments":["# Step 1: Get articles of the global feed"],"line":46,"prefix":"Given","index":0,"text":"path 'articles'"}},{"result":{"nanos":54600,"millis":0.0546,"status":"passed"},"step":{"line":47,"prefix":"And","index":1,"text":"request globalArticleReqBody"}},{"result":{"nanos":848018500,"millis":848.0185,"status":"passed"},"step":{"line":48,"prefix":"When","index":2,"text":"method GET"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":49,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":1242300,"millis":1.2423,"status":"passed"},"step":{"comments":["# Step 2: Get the slug ID for the first article, save it to variable"],"line":51,"prefix":"*","index":4,"text":"def getSlugsID = response.articles[0].slug"}},{"result":{"nanos":804800,"millis":0.8048,"status":"passed"},"step":{"comments":["# Step 3: Make a GET call to 'comments' end-point to get all comments"],"line":53,"prefix":"Given","index":5,"text":"path 'articles', getSlugsID, 'comments'"}},{"result":{"nanos":587067700,"millis":587.0677,"status":"passed"},"step":{"line":54,"prefix":"When","index":6,"text":"method GET"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":55,"prefix":"Then","index":7,"text":"status 200"}},{"result":{"nanos":1109600,"millis":1.1096,"status":"passed"},"step":{"comments":["# Step 4: Verify response schema"],"line":57,"prefix":"And","index":8,"text":"match response.comments[0].body == \"apa aja boleh\""}},{"result":{"nanos":776800,"millis":0.7768,"status":"passed"},"step":{"comments":["# Step 5: Get the count of the comments array length and save to variable"],"line":59,"prefix":"*","index":9,"text":"def commentsCount = response.comments.length"}},{"result":{"nanos":243100,"millis":0.2431,"status":"passed"},"step":{"comments":["# Step 6: Make a POST request to publish a new comment"],"line":62,"prefix":"Given","index":10,"text":"path 'articles', getSlugsID, 'comments'"}},{"result":{"nanos":455700,"millis":0.4557,"status":"passed"},"step":{"line":63,"prefix":"And","index":11,"text":"request { comment : { body : \"#(randomComment)\" } }"}},{"result":{"nanos":570759500,"millis":570.7595,"status":"passed"},"step":{"line":64,"prefix":"When","index":12,"text":"method POST"}},{"result":{"nanos":15000,"millis":0.015,"status":"passed"},"step":{"line":65,"prefix":"Then","index":13,"text":"status 200"}},{"result":{"nanos":4089500,"millis":4.0895,"status":"passed"},"step":{"endLine":83,"comments":["# Step 7: Verify response schema that should contain posted comment text"],"line":67,"prefix":"And","docString":"{\n    \"comment\": {\n        \"id\": '#number',\n        \"createdAt\": \"#? timeValidator(_)\",\n        \"updatedAt\": \"#? timeValidator(_)\",\n        \"body\": \"#string\",\n        \"author\": {\n            \"username\": \"#string\",\n            \"bio\": \"##string\",\n            \"image\": \"#string\",\n            \"following\": '#boolean'\n        }\n    }\n}","index":14,"text":"match response =="}},{"result":{"nanos":1107400,"millis":1.1074,"status":"passed"},"step":{"line":84,"prefix":"*","index":15,"text":"def getCommentID = response.comment.id"}},{"result":{"nanos":458700,"millis":0.4587,"status":"passed"},"step":{"comments":["# Step 8: Get the list of all comments for this article one more time"],"line":86,"prefix":"Given","index":16,"text":"path 'articles', getSlugsID, 'comments'"}},{"result":{"nanos":635866300,"millis":635.8663,"status":"passed"},"step":{"line":87,"prefix":"When","index":17,"text":"method GET"}},{"result":{"nanos":10300,"millis":0.0103,"status":"passed"},"step":{"line":88,"prefix":"Then","index":18,"text":"status 200"}},{"result":{"nanos":337100,"millis":0.3371,"status":"passed"},"step":{"comments":["# Step 9: Verify number of comments increased by 1 (similar like we did with favorite counts)"],"line":90,"prefix":"*","index":19,"text":"def commentIncreased = response.comments.length"}},{"result":{"nanos":599200,"millis":0.5992,"status":"passed"},"step":{"line":91,"prefix":"*","index":20,"text":"match commentIncreased == commentsCount + 1"}},{"result":{"nanos":845000,"millis":0.845,"status":"passed"},"step":{"line":92,"prefix":"*","index":21,"text":"print 'jumlah comment terbaru: ' + commentIncreased"},"stepLog":"08:38:33.862 [print] jumlah comment terbaru: 2 \n"},{"result":{"nanos":764800,"millis":0.7648,"status":"passed"},"step":{"comments":["# Step 10: Make a DELETE request to delete comment"],"line":95,"prefix":"Given","index":22,"text":"path 'articles', getSlugsID, 'comments', getCommentID"}},{"result":{"nanos":735757000,"millis":735.757,"status":"passed"},"step":{"line":96,"prefix":"When","index":23,"text":"method DELETE"}},{"result":{"nanos":108400,"errorMessage":"status code was: 200, expected: 204, response time in milliseconds: 734, url: https:\/\/api.realworld.io\/api\/articles\/This-is-title-21074\/comments\/16982, response: \n{}\nclasspath:conduitApp\/feature\/HomeWork.feature:97","millis":0.1084,"status":"failed"},"step":{"line":97,"prefix":"Then","index":24,"text":"status 204"},"stepLog":"08:38:34.599 classpath:conduitApp\/feature\/HomeWork.feature:97\nThen status 204\nstatus code was: 200, expected: 204, response time in milliseconds: 734, url: https:\/\/api.realworld.io\/api\/articles\/This-is-title-21074\/comments\/16982, response: \n{}\nclasspath:conduitApp\/feature\/HomeWork.feature:97\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# Step 11: Get all comments again and verify number of comments decreased by 1"],"line":99,"prefix":"Given","index":25,"text":"path 'articles', getSlugsID, 'comments'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":100,"prefix":"When","index":26,"text":"method GET"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":101,"prefix":"Then","index":27,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":102,"prefix":"*","index":28,"text":"def commentDecreased = response.comments.length"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":103,"prefix":"*","index":29,"text":"match commentDecreased == commentsCount"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":104,"prefix":"*","index":30,"text":"print 'jumlah comment sekarang: ' + commentDecreased"}}],"line":44,"description":"","durationMillis":3421.8316,"failed":true,"error":"status code was: 200, expected: 204, response time in milliseconds: 734, url: https:\/\/api.realworld.io\/api\/articles\/This-is-title-21074\/comments\/16982, response: \n{}\nclasspath:conduitApp\/feature\/HomeWork.feature:97","executorName":"main","name":"Comment articles","startTime":1658540311171,"refId":"[2:44]","endTime":1658540314600,"exampleIndex":-1}],"callDepth":0,"name":"Home Work","description":"","resultDate":"2022-07-23 08:38:34 AM","durationMillis":6150.9454,"passedCount":1}